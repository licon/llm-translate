# 右键菜单翻译功能使用说明

## 功能概述

LLM Translate 扩展现在支持右键菜单翻译功能，让您可以在任何网页上选中文字后，通过右键菜单快速进行翻译。

## 使用方法

### 1. 选中文字
在任意网页上选中您想要翻译的文字。

### 2. 右键菜单
右键点击选中的文字，您会看到 "LLM Translate" 菜单项。

### 3. 选择翻译选项
- **翻译为 [主要目标语言]**：将文字翻译为您设置的主要目标语言
- **翻译为 [次要目标语言]**：将文字翻译为您设置的次要目标语言
- **打开设置**：快速打开扩展设置页面

### 4. 查看翻译结果
选择翻译选项后，会在页面中央弹出一个翻译结果窗口，显示：
- 原文
- 翻译结果
- 关闭按钮

## 菜单结构

```
LLM Translate
├── 翻译为 [主要目标语言]
├── 翻译为 [次要目标语言]
├── ──────────────── (分隔线)
└── 打开设置
```

## 语言设置

右键菜单中显示的语言名称会根据您在设置页面中配置的目标语言自动更新：

1. 打开扩展设置页面
2. 在 "目标语言设定" 部分配置：
   - **默认目标语言**：主要翻译目标
   - **第二目标语言**：次要翻译目标
3. 保存设置后，右键菜单会自动更新显示新的语言名称

## 支持的语言

扩展支持 12 种语言的右键菜单界面：
- 🇺🇸 English
- 🇨🇳 简体中文
- 🇹🇼 繁體中文
- 🇸🇦 العربية (阿拉伯语)
- 🇧🇩 বাংলা (孟加拉语)
- 🇩🇪 Deutsch (德语)
- 🇪🇸 Español (西班牙语)
- 🇫🇷 Français (法语)
- 🇮🇳 हिन्दी (印地语)
- 🇯🇵 日本語 (日语)
- 🇰🇷 한국어 (韩语)
- 🇵🇹 Português (葡萄牙语)
- 🇷🇺 Русский (俄语)

## 技术特性

- **智能语言检测**：自动检测原文语言，如果与目标语言相同则使用次要目标语言
- **动态菜单更新**：语言设置更改后，右键菜单会自动更新
- **多语言支持**：右键菜单界面支持 12 种语言
- **统一体验**：与现有的划词翻译功能使用相同的翻译引擎和设置

## 注意事项

1. 右键菜单功能需要 `contextMenus` 权限，已在 manifest.json 中配置
2. 翻译结果会以弹窗形式显示，不会替换原文字
3. 如果翻译失败，会显示错误信息
4. 可以通过点击弹窗的关闭按钮或点击页面其他区域来关闭翻译结果

## 故障排除

如果右键菜单没有出现：
1. 确保已选中文字
2. 检查扩展是否已启用
3. 尝试刷新页面后重试
4. 检查浏览器控制台是否有错误信息

如果翻译失败：
1. 检查 API 密钥是否正确配置
2. 检查网络连接
3. 查看翻译结果弹窗中的错误信息
4. 尝试在设置页面重新配置 API 密钥
